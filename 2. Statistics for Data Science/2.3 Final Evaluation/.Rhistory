knitr::opts_chunk$set(echo = TRUE)
install.packages("readxl")
library(knitr)
library(corrplot)
install.packages("corrplot")
library(corrplot)
knitr::opts_chunk$set(echo = TRUE)
variable_pob <- "POB_TOT"
marginacion_base[[variable_pob]] <- as.numeric(marginacion_base[[variable_pob]])
# Creamos un data frame vacío para almacenar los resultados
resumen_poblacion <- data.frame(
Entidad = character(),
Poblacion_Total_Municipal = numeric(),
stringsAsFactors = FALSE
)
for (estado in entidades) {
# Seleccionamos la POB_TOT para el estado actual
poblacion_estado <- subset(marginacion_base, NOM_ENT == estado)[[variable_pob]]
# Calculamos la suma
suma_poblacion <- sum(poblacion_estado)
# Creamos una nueva fila
nueva_fila <- data.frame(
Entidad = estado,
Poblacion_Total_Municipal = suma_poblacion,
stringsAsFactors = FALSE
)
# Añadimos la nueva fila al data frame de resultados usando rbind (base R)
resumen_poblacion <- rbind(resumen_poblacion, nueva_fila)
}
marginacion_base <- read_excel("IMM_2020.xlsx", sheet = "IMM_2020")
#install.packages("knitr")
#install.packages("readxl")
#install.packages("corrplot")
library(readxl)
#library(knitr)
library(corrplot)
marginacion_base <- read_excel("IMM_2020.xlsx", sheet = "IMM_2020")
variables_estudio <-
c("ANALF","SBASC","OVSDE","OVSEE","OVSAE","OVPT","VHAC","PL.5000","PO2SM")
entidades <- unique(marginacion_base$NOM_ENT)
for (variable in variables_estudio) {
marginacion_base[[variable]] <- as.numeric(marginacion_base[[variable]])
}
resultados <- list()
for (estado in entidades) {
datos_estado <- marginacion_base[marginacion_base$NOM_ENT == estado, ]
estadisticas_estado <- list()
for (variable in variables_estudio) {
estado_actual <- marginacion_base[[variable]]
rango <- range(estado_actual, na.rm = TRUE)
rango_intercuantilico <- IQR(estado_actual, na.rm = TRUE)
media <- mean(estado_actual, na.rm = TRUE)
mediana <- median(estado_actual, na.rm = TRUE)
desviacion_estandar <- sd(estado_actual, na.rm = TRUE)
calculo_estadisticas <- data.frame(
Variable = variable,
Rango_Min = rango[1],
Rango_Max = rango[2],
Rango_Intercuantilico = rango_intercuantilico,
Media = media,
Mediana = mediana,
Desviacion_Estandar = desviacion_estandar
)
estadisticas_estado[[variable]] <- calculo_estadisticas
}
df_estado <- do.call(rbind, estadisticas_estado)
rownames(df_estado) <- NULL
resultados[[estado]] <- df_estado
}
imprimir_resultados <- function(data_frame, estado) {
knitr::kable(data_frame,
caption = estado,
digits = 3,
booktabs = TRUE,
longtable = FALSE)
}
imprimir_resultados(resultados[["Aguascalientes"]], "Aguascalientes")
imprimir_resultados(resultados[["Baja California"]], "Baja California")
imprimir_resultados(resultados[["Baja California Sur"]], "Baja California Sur")
imprimir_resultados(resultados[["Campeche"]], "Campeche")
imprimir_resultados(resultados[["Colima"]], "Colima")
imprimir_resultados(resultados[["Chiapas"]], "Chiapas")
imprimir_resultados(resultados[["Chiapas"]], "Chiapas")
imprimir_resultados(resultados[["Chihuahua"]], "Chihuahua")
imprimir_resultados(resultados[["Chiapas"]], "Chiapas")
imprimir_resultados(resultados[["Chihuahua"]], "Chihuahua")
imprimir_resultados(resultados[["Ciudad de México"]], "Ciudad de México")
imprimir_resultados(resultados[["Chihuahua"]], "Chihuahua")
imprimir_resultados(resultados[["Ciudad de México"]], "Ciudad de México")
imprimir_resultados(resultados[["Durango"]], "Durango")
imprimir_resultados(resultados[["Guanajuato"]], "Guanajuato")
imprimir_resultados(resultados[["Guerrero"]], "Guerrero")
imprimir_resultados(resultados[["Durango"]], "Durango")
imprimir_resultados(resultados[["Guanajuato"]], "Guanajuato")
imprimir_resultados(resultados[["Guerrero"]], "Guerrero")
imprimir_resultados(resultados[["Hidalgo"]], "Hidalgo")
imprimir_resultados(resultados[["Guerrero"]], "Guerrero")
imprimir_resultados(resultados[["Hidalgo"]], "Hidalgo")
imprimir_resultados(resultados[["Jalisco"]], "Jalisco")
imprimir_resultados(resultados[["Hidalgo"]], "Hidalgo")
imprimir_resultados(resultados[["Jalisco"]], "Jalisco")
imprimir_resultados(resultados[["México"]], "México")
imprimir_resultados(resultados[["Jalisco"]], "Jalisco")
imprimir_resultados(resultados[["México"]], "México")
imprimir_resultados(resultados[["Michoacán de Ocampo"]], "Michoacán de Ocampo")
imprimir_resultados(resultados[["México"]], "México")
imprimir_resultados(resultados[["Michoacán de Ocampo"]], "Michoacán de Ocampo")
imprimir_resultados(resultados[["Morelos"]], "Morelos")
imprimir_resultados(resultados[["México"]], "México")
imprimir_resultados(resultados[["Michoacán de Ocampo"]], "Michoacán de Ocampo")
imprimir_resultados(resultados[["Morelos"]], "Morelos")
imprimir_resultados(resultados[["Nayarit"]], "Nayarit")
imprimir_resultados(resultados[["Michoacán de Ocampo"]], "Michoacán de Ocampo")
imprimir_resultados(resultados[["Morelos"]], "Morelos")
imprimir_resultados(resultados[["Nayarit"]], "Nayarit")
imprimir_resultados(resultados[["Nuevo León"]], "Nuevo León")
imprimir_resultados(resultados[["Nayarit"]], "Nayarit")
imprimir_resultados(resultados[["Nuevo León"]], "Nuevo León")
imprimir_resultados(resultados[["Oaxaca"]], "Oaxaca")
imprimir_resultados(resultados[["Nuevo León"]], "Nuevo León")
imprimir_resultados(resultados[["Oaxaca"]], "Oaxaca")
imprimir_resultados(resultados[["Puebla"]], "Puebla")
imprimir_resultados(resultados[["Oaxaca"]], "Oaxaca")
imprimir_resultados(resultados[["Puebla"]], "Puebla")
imprimir_resultados(resultados[["Querétaro"]], "Querétaro")
imprimir_resultados(resultados[["Puebla"]], "Puebla")
imprimir_resultados(resultados[["Querétaro"]], "Querétaro")
imprimir_resultados(resultados[["Quintana Roo"]], "Quintana Roo")
imprimir_resultados(resultados[["Puebla"]], "Puebla")
imprimir_resultados(resultados[["Querétaro"]], "Querétaro")
imprimir_resultados(resultados[["Quintana Roo"]], "Quintana Roo")
imprimir_resultados(resultados[["San Luis Potosí"]], "San Luis Potosí")
imprimir_resultados(resultados[["Quintana Roo"]], "Quintana Roo")
imprimir_resultados(resultados[["San Luis Potosí"]], "San Luis Potosí")
imprimir_resultados(resultados[["Sinaloa"]], "Sinaloa")
imprimir_resultados(resultados[["San Luis Potosí"]], "San Luis Potosí")
imprimir_resultados(resultados[["Sinaloa"]], "Sinaloa")
imprimir_resultados(resultados[["Sonora"]], "Sonora")
imprimir_resultados(resultados[["Sinaloa"]], "Sinaloa")
imprimir_resultados(resultados[["Sonora"]], "Sonora")
imprimir_resultados(resultados[["Tabasco"]], "Tabasco")
imprimir_resultados(resultados[["Sonora"]], "Sonora")
imprimir_resultados(resultados[["Tabasco"]], "Tabasco")
imprimir_resultados(resultados[["Tamaulipas"]], "Tamaulipas")
imprimir_resultados(resultados[["Sonora"]], "Sonora")
imprimir_resultados(resultados[["Tabasco"]], "Tabasco")
imprimir_resultados(resultados[["Tamaulipas"]], "Tamaulipas")
imprimir_resultados(resultados[["Tlaxcala"]], "Tlaxcala")
imprimir_resultados(resultados[["Tabasco"]], "Tabasco")
imprimir_resultados(resultados[["Tamaulipas"]], "Tamaulipas")
imprimir_resultados(resultados[["Tlaxcala"]], "Tlaxcala")
imprimir_resultados(resultados[["Veracruz de Ignacio de la Llave"]], "Veracruz de Ignacio de la Llave")
datos_correlacion <- marginacion_base[, variables_estudio]
matriz_correlacion <- cor(datos_correlacion, use = "pairwise.complete.obs")
knitr::kable(round(matriz_correlacion, 2))
corrplot(matriz_correlacion,
method = "color", # Muestra cuadrados de color
title = "Gráfico de Correlación de Indicadores de Marginación",
mar = c(0, 0, 4, 0), # Adjust top margin for the title
cex.main = 1,
tl.col = "black", # Color de las etiquetas
tl.srt = 45,      # Rotación de las etiquetas (para que no se encimen)
addCoef.col = "black", # Agrega los valores numéricos
number.cex = 0.7, # Tamaño de los números
tl.cex = 0.7)
entidades_interes <- c("Nuevo León", "Durango", "Jalisco", "Veracruz de Ignacio de la Llave", "Chiapas")
variable_imn <- "IMN_2020"
datos_entidades_estudio <- marginacion_base[marginacion_base$NOM_ENT %in% entidades_interes, ]
datos_entidades_estudio[[variable_imn]] <- as.numeric(datos_entidades_estudio[[variable_imn]])
nuevo_leon_imn <- na.omit(subset(marginacion_base, NOM_ENT == "Nuevo León")[[variable_imn]])
durango_imn <- na.omit(subset(marginacion_base, NOM_ENT == "Durango")[[variable_imn]])
jalisco_imn <- na.omit(subset(marginacion_base, NOM_ENT == "Jalisco")[[variable_imn]])
veracruz_imn <- na.omit(subset(marginacion_base, NOM_ENT == "Veracruz de Ignacio de la Llave")[[variable_imn]])
chiapas_imn <- na.omit(subset(marginacion_base, NOM_ENT == "Chiapas")[[variable_imn]])
densidad_nuevo_leon <- density(nuevo_leon_imn)
densidad_durango <- density(durango_imn)
densidad_jalisco <- density(jalisco_imn)
densidad_veracruz <- density(veracruz_imn)
densidad_chiapas <- density(chiapas_imn)
colores <- c("cadetblue", "coral", "antiquewhite4", "brown", "goldenrod")
min_x_vals <- c(min(densidad_nuevo_leon$x),
min(densidad_durango$x),
min(densidad_jalisco$x),
min(densidad_veracruz$x),
min(densidad_chiapas$x))
max_x_vals <- c(max(densidad_nuevo_leon$x),
max(densidad_durango$x),
max(densidad_jalisco$x),
max(densidad_veracruz$x),
max(densidad_chiapas$x))
rango_x <- c(min(min_x_vals), max(max_x_vals))
max_y_vals <- c(max(densidad_nuevo_leon$y),
max(densidad_durango$y),
max(densidad_jalisco$y),
max(densidad_veracruz$y),
max(densidad_chiapas$y))
rango_y <- c(0, max(max_y_vals))
plot(densidad_nuevo_leon,
xlim = rango_x,
ylim = rango_y,
main = "Densidad del Indice de Marginación Normalizado (IMN_2020) por Entidad",
xlab = "Índice de Marginación Normalizado (IMN_2020)",
ylab = "Densidad",
col = colores[1],
lwd = 2)
lines(densidad_durango, col = colores[2], lwd = 2)
lines(densidad_jalisco, col = colores[3], lwd = 2)
lines(densidad_veracruz, col = colores[4], lwd = 2)
lines(densidad_chiapas, col = colores[5], lwd = 2)
legend("topleft",
legend = entidades_interes,
col = colores,
lwd = 2,
cex = 0.8)
variable_pob <- "POB_TOT"
marginacion_base[[variable_pob]] <- as.numeric(marginacion_base[[variable_pob]])
# Creamos un data frame vacío para almacenar los resultados
resumen_poblacion <- data.frame(
Entidad = character(),
Poblacion_Total_Municipal = numeric(),
stringsAsFactors = FALSE
)
for (estado in entidades) {
# Seleccionamos la POB_TOT para el estado actual
poblacion_estado <- subset(marginacion_base, NOM_ENT == estado)[[variable_pob]]
# Calculamos la suma
suma_poblacion <- sum(poblacion_estado)
# Creamos una nueva fila
nueva_fila <- data.frame(
Entidad = estado,
Poblacion_Total_Municipal = suma_poblacion,
stringsAsFactors = FALSE
)
# Añadimos la nueva fila al data frame de resultados usando rbind (base R)
resumen_poblacion <- rbind(resumen_poblacion, nueva_fila)
}
resumen_poblacion <- resumen_poblacion[order(resumen_poblacion$Entidad), ]
resumen_poblacion$Poblacion_Total_Municipal_Formato <-
format(resumen_poblacion$Poblacion_Total_Municipal, big.mark = ",", scientific = FALSE)
print(resumen_poblacion[, c("Entidad", "Poblacion_Total_Municipal_Formato")])
poblacion_nacional_calculada <- sum(resumen_poblacion$Poblacion_Total_Municipal)
print(paste0("Total Nacional Calculado (Suma de las 32 Entidades): ",
format(poblacion_nacional_calculada, big.mark = ",", scientific = FALSE)))
resumen_poblacion
resumen_poblacion[, c("Entidad", "Poblacion_Total_Municipal_Formato")]
?kable
resumen_poblacion <- resumen_poblacion[order(resumen_poblacion$Entidad), ]
resumen_poblacion$Poblacion_Total <- as.numeric(resumen_poblacion$Poblacion_Total_Municipal)
knitr::kable(resumen_poblacion[, c("Entidad", "Poblacion_Total")],
digits = 3,
booktabs = TRUE,
longtable = FALSE)
entidades_boxplot <- c("Chiapas", "Guerrero", "Nuevo León", "Tamaulipas", "Durango")
# 2. Filtrar los datos para incluir solo las 5 entidades
datos_boxplot <- subset(marginacion_base, NOM_ENT %in% entidades_boxplot)
# 3. Eliminar filas con NA en el índice de marginación
datos_boxplot <- na.omit(datos_boxplot[, c("NOM_ENT", variable_imn)])
print("Generando Gráfico de Boxplots para el Índice de Marginación (IM_2020)...")
# 1. Generar el boxplot
# Fórmula: Variable ~ Grupo (IM_2020 por NOM_ENT)
boxplot(IMN_2020 ~ NOM_ENT,
data = datos_boxplot,
main = "Comparación del Índice de Marginación Municipal (IM_2020)",
xlab = "Entidad Federativa",
ylab = "Índice de Marginación (IM_2020)",
col = colores, # Asignación de colores
#las = 2, # Rotar etiquetas del eje X verticalmente para mejor lectura
outline = TRUE) # Mostrar outliers (puntos fuera de los bigotes)
prob_al_menos_1 <- 1 - pbinom(q = 0, size = 10, prob = 0.30)
prob_al_menos_1
prob_mas_de_ocho
prob_mas_de_ocho <- dbinom(x = 9, size = 10, prob = 0.30) +
dbinom(x = 10, size = 10, prob = 0.30)
prob_mas_de_ocho
